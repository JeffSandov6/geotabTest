<html>
<head>
  <title>GeoTab User Dropdown</title>
  <script src="https://www.geotab.com/sdk/web/api.js"></script>
</head>
<body>
  <h1>GeoTab User Dropdown</h1>

  <label for="user-dropdown">Select User:</label>
  <select id="user-dropdown"></select>

  <script>
    // Function to populate the dropdown with user options
    function populateUserDropdown(users) {
      var dropdown = document.getElementById("user-dropdown");

      users.forEach(function(user) {
        var option = document.createElement("option");
        option.value = user.id;
        option.text = user.name;
        dropdown.appendChild(option);
      });
    }

    // Authenticate and retrieve users using the GeoTab SDK
    function getGeoTabUsers() {
      var sdk = GeotabApi(function(authCallback) {
        authCallback("pgt_technologies", "jeffrysandoval24@gmail.com", "testPassword", function() {
          sdk.call("Get", {
            typeName: "User",
            resultsLimit: 1000 // Adjust the limit as per your requirements
          }, function(result) {
            if (result && result.length > 0) {
              populateUserDropdown(result);
            } else {
              console.log("No users found.");
            }
          });
        });
      });
    }

    // Call the function to retrieve and populate the dropdown
    getGeoTabUsers();
  </script>
</body>
</html>
